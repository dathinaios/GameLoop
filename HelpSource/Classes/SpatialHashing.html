<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<title></title>
<meta name="Generator" content="Cocoa HTML Writer">
<meta name="CocoaVersion" content="949.54">
<style type="text/css">
p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px Helvetica}
p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #0006ee}
p.p5 {margin: 0.0px 0.0px 0.0px 42.0px; font: 12.0px Helvetica}
p.p6 {margin: 0.0px 0.0px 0.0px 42.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p7 {margin: 0.0px 0.0px 0.0px 42.0px; font: 9.0px Monaco; min-height: 12.0px}
span.s1 {text-decoration: underline}
</style>
</head>
<body>
<p class="p1"><b>SpatialHashing</b></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3">SpatialHashing is a spatial index used by EntityManager and EntityManager2 for collision detection.</p>
<p class="p3">It is based on the paper "Optimization of Large-Scale, Real-Time Simulations by Spatial Hashing" <span class="Apple-converted-space"> </span></p>
<p class="p3">(Erin J. Hastings, Jaruwan Mesit, Ratan K. Guha). I also had a look at the implementation described at:<span class="Apple-converted-space"> </span></p>
<p class="p4"><span class="s1"><a href="http://www.sgtconker.com/2009/10/spatial-hashing-implementatio-for-fast-2d-collisionsplaceholder/">http://www.sgtconker.com/2009/10/spatial-hashing-implementatio-for-fast-2d-collisionsplaceholder/</a></span></p>
<p class="p2"><br></p>
<p class="p3">The objects registered in the index should be circles and have getter methods for position and radius.<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p3"><b>*new(sceneWidth, sceneHeight, cellSize)</b></p>
<p class="p5">create a new instance of SpatialHashing with the given dimensions and resolution.<span class="Apple-converted-space"> </span></p>
<p class="p5">The dimensions are in metres. The cell size should be able to fully contain the largest</p>
<p class="p5">entity in order to function correctly.</p>
<p class="p6"><br></p>
<p class="p3"><b>register(an Entity)</b></p>
<p class="p5">register the entity in the index.<span class="Apple-converted-space"> </span></p>
<p class="p7"><br></p>
<p class="p3"><b>unregister(an Entity)</b></p>
<p class="p5">remove the entity in the index.<span class="Apple-converted-space"> </span></p>
<p class="p6"><br></p>
<p class="p3"><b>finCells(an Entity)</b></p>
<p class="p5">calculates the cell for the four corners of the square that contains the circle.</p>
<p class="p6"><br></p>
<p class="p3"><b>getNearest(an Entity)</b></p>
<p class="p5">returns the objects that are in the same cell as the given entity.</p>
<p class="p5">(todo: a method that finds entities at a given distance)</p>
<p class="p6"><br></p>
<p class="p3"><b>clearBuckets</b></p>
<p class="p5">clear the index</p>
</body>
</html>
